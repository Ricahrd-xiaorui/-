# 政策文件LDA主题模型可视化分析系统

这是一个基于Streamlit开发的Web应用，用于对政策文本进行主题建模和可视化分析。系统通过潜在狄利克雷分配(LDA)算法识别文本集合中的潜在主题，并提供多种可视化方式展示分析结果。

## 系统功能

### 数据上传与预处理
- 支持单个/多个TXT文件上传或ZIP压缩包批量上传
- 提供政策文件示例数据和随机生成数据用于测试
- 文本预处理：分词、去停用词、词频过滤等
- 支持自定义停用词管理

### LDA主题建模
- 可配置主题数量、迭代次数、passes等参数
- 自动寻找最优主题数量并生成评估指标图表
- 计算连贯性分数(Coherence Score)和困惑度(Perplexity)
- 支持将训练好的模型保存到本地

### 主题分析与可视化
- 主题关键词：显示各主题的关键词列表
- 主题词云：生成每个主题的词云可视化
- 交互式pyLDAvis：提供交互式主题可视化界面
- 文档-主题分布：热图展示文档与主题的关联程度
- 主题词分布：展示主题内词语的分布情况
- 文档聚类：基于t-SNE或UMAP降维的文档聚类可视化
- 主题相似性网络：展示主题间的相似关系

### 结果导出
- 导出完整分析报告（包含所有可视化结果）
- 导出CSV格式的主题关键词表格
- 保存训练好的模型以供后续使用

## 安装与运行

### 依赖安装

```bash
pip install -r requirements.txt
```

### 运行应用

```bash
streamlit run app.py
```

## 使用流程

1. **数据加载**：在"数据加载"选项卡中上传政策文件或使用示例数据
2. **文本预处理**：在"文本预处理"选项卡中配置预处理参数并执行
3. **模型训练**：在"模型训练"选项卡中设置LDA模型参数并训练模型
4. **可视化分析**：在"可视化分析"选项卡中查看各种可视化结果
5. **结果导出**：在"结果导出"选项卡中导出分析报告或数据

## 系统架构

系统采用模块化设计，主要包含以下模块：

- `app.py`：主应用程序入口
- `modules/`：功能模块
  - `data_loader.py`：数据加载模块
  - `text_processor.py`：文本预处理模块
  - `model_trainer.py`：模型训练模块
  - `visualizer.py`：可视化分析模块
  - `exporter.py`：结果导出模块
  - `sidebar.py`：侧边栏控制面板
- `utils/`：工具函数
  - `session_state.py`：会话状态管理

## 主要技术栈

- Streamlit：Web应用框架
- Gensim：LDA主题模型实现
- jieba：中文分词
- Pandas/NumPy：数据处理
- Matplotlib/Plotly：数据可视化
- PyLDAvis：主题模型交互式可视化
- WordCloud：词云生成
- UMAP/t-SNE：降维算法

## 注意事项

- 推荐使用5-50个政策文本进行分析
- 根据文档数量和内容复杂度，主题数量一般为4-10个较为合适
- 页面刷新会导致数据丢失，请及时使用保存功能 